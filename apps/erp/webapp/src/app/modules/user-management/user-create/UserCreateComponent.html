<button class="button-create" nz-button nzType="primary" (click)="open()">Create</button>
<nz-drawer [nzClosable]="false" [nzSize]="nzSize" [nzVisible]="visible" [nzPlacement]="placement" nzTitle="Create user"
    (nzOnClose)="close()">
    <ng-container *nzDrawerContent>
        <form nz-form [formGroup]="validateForm">
            <nz-form-item>
                <nz-form-label [nzNoColon]="'true'" [nzSm]="10" [nzXs]="24"></nz-form-label>
                <nz-form-control [nzSm]="14" [nzXs]="24">
                    <div>
                        <div class="imagePreview">
                            <nz-avatar [nzSize]="120" nzIcon="user" [nzSrc]="imageURL"></nz-avatar>
                        </div>
                        <br>
                        <button class="buttonInputImage"><a (click)="showInputFileAvatar()">Post avatar</a></button>
                        <input #tasks hidden class="inputImage" value="avatarURL" nz-input type="file" accept="image/*"
                            id="avatar" formControlName="avatar" (change)="uploadAvatar($event)" />
                    </div>
                </nz-form-control>
            </nz-form-item>
            <nz-form-item>
                <nz-form-label [nzSm]="6" [nzXs]="24" nzRequired nzFor="email">Email</nz-form-label>
                <nz-form-control [nzSm]="14" [nzXs]="24" nzErrorTip="The input is not valid email!">
                    <input type="email" class="input" nz-input formControlName="email" id="email" />
                </nz-form-control>
            </nz-form-item>
            <nz-form-item>
                <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="firstName" nzRequired>
                    <span>First name</span>
                </nz-form-label>
                <nz-form-control [nzSm]="14" [nzXs]="24" nzErrorTip="Please input is not valid!">
                    <input type="text" class="input" nz-input id="firstName" formControlName="firstName" />
                </nz-form-control>
            </nz-form-item>
            <nz-form-item>
                <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="lastName" nzRequired>
                    <span>Last name</span>
                </nz-form-label>
                <nz-form-control [nzSm]="14" [nzXs]="24" nzErrorTip="Please input your last name!">
                    <input type="text" class="input" nz-input id="lastName" formControlName="lastName" />
                </nz-form-control>
            </nz-form-item>
            <nz-form-item>
                <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="middleName">
                    <span>Middle name</span>
                </nz-form-label>
                <nz-form-control [nzSm]="14" [nzXs]="24">
                    <input type="text" class="input" nz-input id="middleName" formControlName="middleName" />
                </nz-form-control>
            </nz-form-item>
            <nz-form-item>
                <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="displayName" nzRequired>
                    <span>Display name</span>
                </nz-form-label>
                <nz-form-control [nzSm]="14" [nzXs]="24" nzErrorTip="Please input your display name!">
                    <input type="text" class="input" nz-input id="displayName" formControlName="displayName" />
                </nz-form-control>
            </nz-form-item>
            <nz-form-item>
                <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="password" nzRequired>Password</nz-form-label>
                <nz-form-control [nzSm]="14" [nzXs]="24" nzErrorTip="Please input your password!">
                    <input class="input" nz-input type="password" id="password" formControlName="password"
                        (ngModelChange)="updateConfirmValidator()" />
                </nz-form-control>
            </nz-form-item>
            <nz-form-item>
                <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="checkPassword" nzRequired>Confirm Password</nz-form-label>
                <nz-form-control [nzSm]="14" [nzXs]="24" [nzErrorTip]="errorTpl">
                    <input class="input" nz-input type="password" formControlName="checkPassword" id="checkPassword" />
                    <ng-template #errorTpl let-control>
                        <ng-container *ngIf="control.hasError('required')">Please confirm your password!</ng-container>
                        <ng-container *ngIf="control.hasError('confirm')">
                            Two passwords that you enter is inconsistent!
                        </ng-container>
                    </ng-template>
                </nz-form-control>
            </nz-form-item>
            <nz-form-item>
                <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="dateOfBirth" nzRequired>
                    <span>Date of birth</span>
                </nz-form-label>
                <nz-form-control [nzSm]="14" [nzXs]="24" nzRequired>
                    <input class="input" type="date" nz-input id="dateOfBirth" formControlName="dateOfBirth" />
                </nz-form-control>
            </nz-form-item>
            <nz-form-item>
                <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="phone" nzRequired>
                    <span>Phone</span>
                </nz-form-label>
                <nz-form-control [nzSm]="14" [nzXs]="24" nzErrorTip="Please phone number is not valid!">
                    <input class="input" type="tel" nz-input id="phone" formControlName="phone" />
                </nz-form-control>
            </nz-form-item>
            <nz-form-item>
                <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="address">
                    <span>Address</span>
                </nz-form-label>
                <nz-form-control [nzSm]="14" [nzXs]="24">
                    <input type="text" class="input" nz-input id="address" formControlName="address" />
                </nz-form-control>
            </nz-form-item>
            <nz-form-item *ngIf="!loading">
                <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="roles">
                    <span>Role</span>
                </nz-form-label>
                <nz-form-control [nzSm]="14" [nzXs]="24">
                    <nz-select nzAllowClear nzPlaceHolder="Choose" formControlName="roles">
                        <nz-option *ngFor="let roleName of roleList" [nzValue]="roleName" id="roles"
                            [nzLabel]="roleName.name || 'Unknown'"></nz-option>
                    </nz-select>
                </nz-form-control>
            </nz-form-item>
            <nz-form-item nz-row class="register-area">
                <nz-form-control [nzSpan]="14" [nzOffset]="6">
                    <button (click)="submitForm()" nz-button nzType="primary">Register</button>
                </nz-form-control>
            </nz-form-item>
        </form>
    </ng-container>
</nz-drawer>